{# app/admin/templates/site_settings.html (Sans Placeholders) #}
{% extends "base.html" %}

{% block title %}{{ title }}{% endblock %}

{% block content %}
<div class="container mt-4 mb-5"> {# Conteneur principal #}
    <h1><i class="bi bi-sliders"></i> {{ title }}</h1>
    <p>{{ _("Gérez ici les scripts personnalisés à insérer dans l'en-tête (<head>) ou avant la fermeture de la balise <body> de toutes les pages de votre site. Utilisez ceci pour les codes de vérification de site (Google Search Console, AdSense), les scripts d'analyse (Google Analytics), etc.") }}</p>
    <div class="alert alert-warning" role="alert">
        <h4 class="alert-heading"><i class="bi bi-exclamation-triangle-fill"></i> {{ _('Attention Importante !') }}</h4>
        <p>{{ _("L'ajout de code incorrect ou malveillant dans ces champs peut gravement affecter la sécurité, l'affichage ou le fonctionnement de votre site. N'ajoutez que du code provenant de sources absolument fiables et dont vous comprenez l'utilité.") }}</p>
        <hr>
        <p class="mb-0">{{ _("Testez minutieusement votre site après chaque modification ici. En cas de problème, videz ces champs et enregistrez pour retirer les scripts.") }}</p>
    </div>
    <hr>

    <div class="row justify-content-center">
        <div class="col-lg-10">
            <form method="post" novalidate>
                {{ form.hidden_tag() }} {# Important pour la protection CSRF #}

                <div class="card shadow-sm mb-4">
                    <div class="card-header">
                        <h5>{{ _('Scripts pour la section <head>') }}</h5>
                    </div>
                    <div class="card-body">
                        <div class="mb-3">
                            {{ form.custom_head_scripts.label(class="form-label") }}
                            {# <<< Placeholder enlevé >>> #}
                            {{ form.custom_head_scripts(class="form-control font-monospace" + (" is-invalid" if form.custom_head_scripts.errors else ""), rows="10") }}
                            {% if form.custom_head_scripts.errors %}
                                <div class="invalid-feedback">
                                    {% for error in form.custom_head_scripts.errors %}<span>{{ error }}</span>{% endfor %}
                                </div>
                            {% endif %}
                            <small class="form-text text-muted">{{ form.custom_head_scripts.description }}</small>
                        </div>
                    </div>
                </div>

                <div class="card shadow-sm mb-4">
                    <div class="card-header">
                        <h5>{{ _('Scripts pour le bas de page (avant </body>)') }}</h5>
                    </div>
                    <div class="card-body">
                        <div class="mb-3">
                            {{ form.custom_footer_scripts.label(class="form-label") }}
                            {# <<< Placeholder enlevé >>> #}
                            {{ form.custom_footer_scripts(class="form-control font-monospace" + (" is-invalid" if form.custom_footer_scripts.errors else ""), rows="10") }}
                            {% if form.custom_footer_scripts.errors %}
                                <div class="invalid-feedback">
                                    {% for error in form.custom_footer_scripts.errors %}<span>{{ error }}</span>{% endfor %}
                                </div>
                            {% endif %}
                            <small class="form-text text-muted">{{ form.custom_footer_scripts.description }}</small>
                        </div>
                    </div>
                </div>

                <div class="mb-3 text-center">
                    {{ form.submit(class="btn btn-primary btn-lg px-5") }}
                </div>
            </form>
        </div>
    </div>

    <div class="mt-4">
        <a href="{{ url_for('admin.index') }}" class="btn btn-outline-secondary"><i class="bi bi-arrow-left-circle"></i> {{ _('Retour au Panel Admin') }}</a>
    </div>
</div> {# <<< Fin Conteneur >>> #}
{% endblock %}
